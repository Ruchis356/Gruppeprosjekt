
import matplotlib.pyplot as plt
import pandas as pd
import datetime

# Sørg for at matplotlib er importert
plt = __import__('matplotlib.pyplot', fromlist=['plt'])

# Eksempel på data som en streng (denne kan erstattes med lesing fra en fil)
data = """19.02.2024 01:00,0.9393123295,100,23.6017907933,100,25.0370600327,100,9.703673,100,9.063477,100
19.02.2024 02:00,0.4547096223,100,20.1108486557,100,20.8056449585,100,8.150909,100,7.982103,100
19.02.2024 03:00,0.2782937294,100,15.1902604628,100,15.6154932813,100,6.126629,100,5.810268,100
19.02.2024 04:00,0.3528883008,100,20.2542382355,100,20.793451559,100,6.120955,100,6.487939,100
19.02.2024 05:00,1.4639258926,100,37.2621297655,100,39.4990085294,100,3.120898,100,2.761698,100
19.02.2024 06:00,9.2483975379,100,51.2133062167,100,65.3448576545,100,0.858439,100,0.424489,100
19.02.2024 07:00,8.735539269,100,47.7094377758,100,61.0573417788,100,4.385503,100,4.309158,100
19.02.2024 08:00,39.5417383738,100,62.1974417741,100,122.6172180092,100,7.42161,100,6.382138,100
19.02.2024 09:00,66.1655122356,100,68.0447325974,100,169.1456352934,100,8.050138,100,6.327578,100
19.02.2024 10:00,60.7977351374,100,65.6799327402,100,158.5788720301,100,11.262849,100,8.438344,100
19.02.2024 11:00,45.4611635286,100,57.7549725098,100,127.2196303815,100,15.782772,100,6.834908,100
19.02.2024 12:00,53.4560564756,100,62.454863054,100,144.1357173487,100,16.598501,100,8.134025,100
19.02.2024 13:00,41.2692855038,100,50.8597049466,100,113.9191731964,100,13.786267,100,8.450506,100
19.02.2024 14:00,18.1664192064,100,33.8760816673,100,61.6343702146,100,3.45998,100,-0.571706,100
19.02.2024 15:00,15.0602552706,100,33.4386975289,100,56.4507675824,100,7.262016,100,4.132649,100
19.02.2024 16:00,12.9085584951,100,37.8327981332,100,57.5570755137,100,6.587707,100,3.029228,100
19.02.2024 17:00,19.964589138,100,42.9307600895,100,73.4366522924,100,8.791609,100,5.559207,100
19.02.2024 18:00,35.9987586045,100,63.8126910747,100,118.8187942224,100,8.451115,100,5.524577,100
19.02.2024 19:00,22.3458712616,100,70.6411133298,100,104.7856046176,100,17.035964,100,13.761124,100
19.02.2024 20:00,20.2535587615,100,69.9520638159,100,100.8995016035,100,22.651014,100,20.360727,100
19.02.2024 21:00,12.9547892626,100,63.9926311456,100,83.7875491389,100,24.526697,100,22.18647,100
19.02.2024 22:00,6.4467673965,100,52.787931093,100,62.6385916748,100,22.78145,100,20.241079,100
19.02.2024 23:00,13.964537818,100,53.0152104235,100,74.3530242094,100,25.340111,100,22.884827,100,..."""  # Fullfør dataene her

# Konverter data til en liste med linjer
data_lines = data.strip().split("\n")

# Opprett lister for tidspunkter og NO2-verdier
times = []
no2_values = []

for line in data_lines:
    parts = line.split(",")
    timestamp = parts[0]  # Første element er dato og klokkeslett
    no2_value = float(parts[1])  # Vi antar at første verdi etter timestamp er NO2
    
    # Konverter dato og tid
    dt = datetime.datetime.strptime(timestamp, "%d.%m.%Y %H:%M")
    
    # Filtrer for kun 10.02.2024
    if dt.date() == datetime.date(2024, 2, 10):
        times.append(dt.time())  # Legg til klokkeslett
        no2_values.append(no2_value)  # Legg til NO2-verdi

# Plot data
plt.figure(figsize=(10, 5))
plt.plot(times, no2_values, marker='o', linestyle='-', color='b', label='NO2')
plt.xlabel("Klokkeslett")
plt.ylabel("NO2 (µg/m³)")
plt.title("NO2-konsentrasjon for 10.02.2024")
plt.xticks(rotation=45)
plt.legend()
plt.grid()
plt.show()
